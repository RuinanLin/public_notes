# ç¦ç”¨æŸåè§¦å±çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ˆUbuntu + Waylandï¼‰

> **é€‚ç”¨åœºæ™¯**ï¼šè§¦å±ç‰©ç†æŸåï¼Œéœ€åœ¨ Ubuntuï¼ˆä½¿ç”¨é»˜è®¤ Wayland ä¼šè¯ï¼‰ä¸­æ°¸ä¹…ç¦ç”¨è§¦æ‘¸åŠŸèƒ½ã€‚  
> **è®¾å¤‡ç±»å‹**ï¼šHID-over-I2C è§¦æ‘¸å±ï¼ˆé USB è®¾å¤‡ï¼‰ï¼Œä¾‹å¦‚ Synapticsã€ELAN ç­‰å¸¸è§ç¬”è®°æœ¬è§¦å±ã€‚  
> **ç³»ç»Ÿç¯å¢ƒ**ï¼šUbuntu 22.04+ï¼ŒGNOME æ¡Œé¢ï¼Œé»˜è®¤ Wayland æ˜¾ç¤ºæœåŠ¡å™¨ã€‚

---

## ğŸ”§ é—®é¢˜èƒŒæ™¯

- ç¬”è®°æœ¬è§¦å±æ‘”åï¼Œä½†ç³»ç»Ÿä»èƒ½è¯†åˆ«å¹¶å“åº”è§¦æ‘¸ï¼Œé€ æˆè¯¯æ“ä½œã€‚
- å°è¯•ä½¿ç”¨ `xinput disable` æ— æ•ˆï¼Œå› ä¸ºå½“å‰ä¼šè¯ä¸º **Wayland**ï¼Œè€Œ `xinput` ä»…ä½œç”¨äº X11/Xwayland å±‚ã€‚
- éœ€è¦ä¸€ç§**ç³»ç»Ÿçº§ã€æ°¸ä¹…æ€§ã€å…¼å®¹ Wayland** çš„ç¦ç”¨æ–¹æ³•ã€‚

---

## ğŸ› ï¸ è§£å†³æ€è·¯

åœ¨ Linux ä¸­ï¼Œè¾“å…¥è®¾å¤‡ç”± `libinput` ç»Ÿä¸€ç®¡ç†ã€‚é€šè¿‡ **udev è§„åˆ™**è®¾ç½® `ENV{LIBINPUT_IGNORE_DEVICE}="1"`ï¼Œå¯è®© `libinput` åœ¨è®¾å¤‡åˆå§‹åŒ–æ—¶ç›´æ¥å¿½ç•¥æŒ‡å®šç¡¬ä»¶ï¼Œä»è€Œå®ç°ï¼š
- å¯¹ Wayland å’Œ X11 å‡æœ‰æ•ˆ
- å¼€æœºè‡ªåŠ¨ç”Ÿæ•ˆ
- æ— éœ€ä¾èµ–æ¡Œé¢ç¯å¢ƒæˆ–ç”¨æˆ·ä¼šè¯

---

## âœ… å®Œæ•´æ“ä½œæ­¥éª¤

### ç¬¬ 1 æ­¥ï¼šè¯†åˆ«è§¦æ‘¸å±è®¾å¤‡

```bash
sudo libinput list-devices
```

åœ¨è¾“å‡ºä¸­æ‰¾åˆ°å…·æœ‰ `Capabilities: touch` çš„è®¾å¤‡ï¼Œä¾‹å¦‚ï¼š

```
Device:           06CB:00 06CB:1A1B
Kernel:           /dev/input/event13
Capabilities:     touch
```

è®°ä¸‹è®¾å¤‡åç§°ï¼š`06CB:00 06CB:1A1B`

> ğŸ’¡ æ³¨æ„ï¼šè¯¥è®¾å¤‡æ˜¯ HID-over-I2C ç±»å‹ï¼ˆé USBï¼‰ï¼Œå› æ­¤**æ²¡æœ‰ `idVendor`/`idProduct`**ã€‚

---

### ç¬¬ 2 æ­¥ï¼šç¡®è®¤è®¾å¤‡åç§°ï¼ˆå…³é”®ï¼ï¼‰

```bash
cat /sys/class/input/event13/device/name
```

è¾“å‡ºåº”ä¸ºï¼š
```
06CB:00 06CB:1A1B
```

> âš ï¸ åç§°ä¸­çš„ç©ºæ ¼ã€å¤§å°å†™å¿…é¡»å®Œå…¨ä¸€è‡´ï¼Œåç»­ udev è§„åˆ™å°†ç²¾ç¡®åŒ¹é…æ­¤å­—ç¬¦ä¸²ã€‚

---

### ç¬¬ 3 æ­¥ï¼šåˆ›å»º udev è§„åˆ™æ–‡ä»¶

```bash
sudo nano /etc/udev/rules.d/99-disable-touchscreen.rules
```

å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```udev
# Disable broken touchscreen by exact device name (Synaptics HID-I2C)
SUBSYSTEM=="input", ATTRS{name}=="06CB:00 06CB:1A1B", ENV{LIBINPUT_IGNORE_DEVICE}="1"
```

> âœ… è¯´æ˜ï¼š
> - `ATTRS{name}` ä¼šå‘ä¸Šéå†è®¾å¤‡æ ‘æŸ¥æ‰¾ `name` å±æ€§ï¼ˆé€‚ç”¨äº I2C/ACPI HID è®¾å¤‡ï¼‰
> - ä½¿ç”¨åŒå¼•å·åŒ…è£¹å®Œæ•´åç§°ï¼Œä¿ç•™ä¸­é—´ç©ºæ ¼

---

### ç¬¬ 4 æ­¥ï¼šé‡è½½è§„åˆ™å¹¶é‡å¯

```bash
sudo udevadm control --reload-rules
sudo udevadm trigger
sudo reboot
```

> ğŸ”„ å¿…é¡»é‡å¯æ‰èƒ½ç¡®ä¿å†…æ ¸å’Œæ˜¾ç¤ºæœåŠ¡å®Œå…¨é‡æ–°åŠ è½½è¾“å…¥è®¾å¤‡æ ˆã€‚

---

### ç¬¬ 5 æ­¥ï¼šéªŒè¯æ˜¯å¦ç”Ÿæ•ˆ

é‡å¯åæ‰§è¡Œï¼š

```bash
libinput list-devices | grep -A5 -B5 "touch"
```

âœ… **æˆåŠŸæ ‡å¿—**ï¼š**æ— ä»»ä½•è¾“å‡º**ï¼Œè¡¨ç¤ºè§¦æ‘¸è®¾å¤‡å·²è¢« `libinput` å¿½ç•¥ã€‚

å¯è¿›ä¸€æ­¥ç¡®è®¤ udev æ˜¯å¦åº”ç”¨è§„åˆ™ï¼š

```bash
udevadm info /sys/class/input/event13 | grep LIBINPUT_IGNORE_DEVICE
```

è‹¥è¾“å‡ºï¼š
```
E: LIBINPUT_IGNORE_DEVICE=1
```
åˆ™è¯´æ˜è§„åˆ™å·²æ­£ç¡®åº”ç”¨ã€‚

---

## âŒ å¸¸è§é”™è¯¯ä¸æ’æŸ¥

| é”™è¯¯ç°è±¡ | åŸå›  | ä¿®å¤æ–¹æ³• |
|--------|------|--------|
| è§„åˆ™ä¸ç”Ÿæ•ˆ | ä½¿ç”¨äº† `==` è€Œé `=` | æ”¹ä¸º `ENV{...}="1"`ï¼ˆèµ‹å€¼ï¼‰ |
| ä»æ˜¾ç¤ºè§¦æ‘¸è®¾å¤‡ | ä½¿ç”¨ `idVendor/idProduct` åŒ¹é… I2C è®¾å¤‡ | æ”¹ç”¨ `ATTRS{name}=="..."` |
| åç§°ä¸åŒ¹é… | å¤§å°å†™æˆ–ç©ºæ ¼ä¸ä¸€è‡´ | ç”¨ `cat .../name` è·å–ç²¾ç¡®å€¼ |
| æœªé‡å¯ | udev è§¦å‘ä¸å½»åº• | æ‰§è¡Œ `sudo reboot` |

---

## ğŸ“ è¡¥å……è¯´æ˜

- **ä¸ºä»€ä¹ˆä¸ç”¨ `xinput`ï¼Ÿ**  
  Wayland ä¸ä½¿ç”¨ X11 è¾“å…¥æ ˆï¼Œ`xinput` ä»…èƒ½æ§åˆ¶ Xwayland è™šæ‹Ÿè®¾å¤‡ï¼Œæ— æ³•çœŸæ­£ç¦ç”¨ç¡¬ä»¶ã€‚

- **å¦‚ä½•æ¢å¤è§¦å±ï¼Ÿ**  
  åˆ é™¤è§„åˆ™æ–‡ä»¶å¹¶é‡å¯ï¼š
  ```bash
  sudo rm /etc/udev/rules.d/99-disable-touchscreen.rules
  sudo reboot
  ```

- **è¯¥æ–¹æ³•ä¼˜åŠ¿**  
  - åº•å±‚ç”Ÿæ•ˆï¼Œä¸ä¾èµ–æ¡Œé¢ç¯å¢ƒ
  - åŒæ—¶é€‚ç”¨äº GNOME/KDE/XFCE ç­‰
  - å…¼å®¹ Wayland ä¸ X11 ä¼šè¯

---

## ğŸ“š å‚è€ƒå‘½ä»¤é€ŸæŸ¥

| åŠŸèƒ½ | å‘½ä»¤ |
|------|------|
| åˆ—å‡ºæ‰€æœ‰è¾“å…¥è®¾å¤‡ | `sudo libinput list-devices` |
| æŸ¥çœ‹è®¾å¤‡åç§° | `cat /sys/class/input/eventX/device/name` |
| æ£€æŸ¥ udev ç¯å¢ƒå˜é‡ | `udevadm info /sys/class/input/eventX` |
| é‡è½½ udev è§„åˆ™ | `sudo udevadm control --reload-rules && sudo udevadm trigger` |

---

> âœ… æœ¬æ–¹æ¡ˆå·²åœ¨ Huawei EUL-WX9 ç¬”è®°æœ¬ï¼ˆSynaptics HID è§¦æ‘¸å±ï¼ŒUbuntu 24.04 + Waylandï¼‰ä¸ŠéªŒè¯æˆåŠŸã€‚