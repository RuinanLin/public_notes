# 练习10：字符串数组和循环　习题解答

## 整理人：林睿楠

* 弄清楚在`for`循环的每一部分你都可以放置什么样的代码．

	任何合法的表达式或语句，包括省略．<br><br>

* 查询如何使用`','`（逗号）字符来在`for`循环的每一部分中，`';'`（分号）之间分隔多条语句．

	本质上是使用逗号运算符．例子如下：

	```c
	for (i = 0, j = 10; i < j; i++, j--)
		printf("%d %d\n", i, j);
	```

* 查询`NULL`是什么东西，尝试将它用做`states`的一个元素，看看它会打印出什么．

	C17标准[ISO/IEC 9899:202x](https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2347.pdf)第43页提到：

	> An integer constant expression with the value 0, or such an expression cast to type void *, is called a null pointer constant.

	而NULL在`<stdlib.h>`中的定义为：

	```c
	#define NULL ((void *)0)
	```

	所以空指针常量`NULL`是一个被强制转换成指针的0常量，是一个不指向任何有效内存地址的指针值．

	下面尝试将它用作`states`的一个元素：

	```
	15c15
	< 		"Washington", "Texas"
	---
	> 		NULL, "Texas"
	```

	得到的运行结果是：

	```
	state 0: California
	state 1: Oregon
	state 2: (null)
	state 3: Texas
	```

	打印出了`(null)`．<br><br>

* 看看你是否能在打印之前将`states`的一个元素赋值给`argv`中的元素，再试试相反的操作．

	都是可以的．对原文件的改动如下：

	```
	6,11d5
	< 	// go through each string in argv
	< 	// why am I skipping argv[0]?
	< 	for (i = 1; i < argc; i++) {
	< 		printf("arg %d: %s\n", i, argv[i]);
	< 	}
	< 
	17a12,24
	> 
	> 	if (argc < 3) {
	> 		printf("argc < 3\n");
	> 		return 0;
	> 	}
	> 	argv[1] = states[2];
	> 	states[0] = argv[2];
	> 
	> 	// go through each string in argv
	> 	// why am I skipping argv[0]?
	> 	for (i = 1; i < argc; i++) {
	> 		printf("arg %d: %s\n", i, argv[i]);
	> 	}
	```

	以`./build/ex10-4 abc def ghi`运行程序，得到的结果是：

	```
	arg 1: Washington
	arg 2: def
	arg 3: ghi
	state 0: def
	state 1: Oregon
	state 2: Washington
	state 3: Texas
	```

	可以看出，都赋值成功了．这是因为他们都不是const char *．
